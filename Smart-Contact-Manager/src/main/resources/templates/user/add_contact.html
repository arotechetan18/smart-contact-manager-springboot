<!DOCTYPE html>
<html lang="en" th:replace="~{base::parent(~{::#content},~{::title},~{::script},~{::navbar})}">

<head>
  <title th:text="${loggedInUser.name + ' | Add Contact'}">Add Contact</title>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300">

  <div id="content">


    <div th:if="${loggedInUser}">
      <div th:replace="~{user/sidebar::sidebar}"></div>
    </div>


    <div class="sm:pl-64 pt-20 pb-10 min-h-screen flex justify-center lg:justify-start">


      <div class="w-full max-w-lg sm:max-w-xl px-4 lg:ml-24">


        <!-- CARD -->
        <div class="bg-white dark:bg-slate-800
                        border border-gray-200 dark:border-slate-700
                        rounded-2xl shadow-lg
                        p-6 sm:p-8">


          <div class="mb-6">
            <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">
              Add New Contact
            </h1>
            <div data-th-replace="message::messagebox"></div>
            <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
              This contact will be stored on cloud, you can directly email this client from SCM.
            </p>
          </div>

          <!-- FORM -->
          <form class="space-y-5" data-th-action="@{/user/contacts/add}" data-th-object="${contactForm}" method="POST"
            enctype="multipart/form-data">


            <!-- name -->
            <div>
              <label class="block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300">
                Contact Name
              </label>
              <div class="relative">

                <div class="absolute left-3 top-0 h-full flex items-center pointer-events-none">
                  <i class="fa-regular fa-user text-gray-400 dark:text-gray-500"></i>
                </div>

                <input type="text" data-th-field="*{name}" placeholder="Enter full name" class="w-full h-11 pl-10 pr-3 rounded-lg
                  bg-gray-50 dark:bg-slate-700/60
                  text-gray-900 dark:text-white
                  border border-gray-300 dark:border-slate-600
                  focus:ring-2 focus:ring-blue-500
                  outline-none transition">
                <p class="text-red-500" data-th-if="${#fields.hasErrors('name')}" data-th-errors="*{name}">Invalid Name
                </p>
              </div>

            </div>

            <!-- Email -->
            <div>
              <label class="block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300">
                Contact Email
              </label>
              <div class="relative">

                <div class="absolute left-3 top-0 h-full flex items-center pointer-events-none">
                  <i class="fa-regular fa-envelope text-gray-400 dark:text-gray-500"></i>
                </div>

                <input type="email" data-th-field="*{email}" placeholder="example@gmail.com" class="w-full h-11 pl-10 pr-3 rounded-lg
                  bg-gray-50 dark:bg-slate-700/60
                  text-gray-900 dark:text-white
                  border border-gray-300 dark:border-slate-600
                  focus:ring-2 focus:ring-blue-500
                  outline-none transition">
                <p class="text-red-500" data-th-if="${#fields.hasErrors('email')}" data-th-errors="*{email}">Invalid
                  Email ***</p>
              </div>
            </div>

            <!-- PHONE -->
            <div>
              <label class="block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300">
                Contact Phone
              </label>
              <div class="relative">

                <div class="absolute left-3 top-0 h-full flex items-center pointer-events-none">
                  <i class="fa-solid fa-phone text-gray-400 dark:text-gray-500"></i>
                </div>

                <input type="tel" data-th-field="*{phoneNumber}" placeholder="+91 XXXXXXXXXX" class="w-full h-11 pl-10 pr-3 rounded-lg
                  bg-gray-50 dark:bg-slate-700/60
                  text-gray-900 dark:text-white
                  border border-gray-300 dark:border-slate-600
                  focus:ring-2 focus:ring-blue-500
                  outline-none transition">
                <p class="text-red-500" data-th-if="${#fields.hasErrors('phoneNumber')}"
                  data-th-errors="*{phoneNumber}">Invalid Phone Number</p>
              </div>
            </div>

            <!-- ADDRESS -->
            <div>
              <label class="block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300">
                Contact Address
              </label>
              <textarea rows="3" data-th-field="*{address}" placeholder="Enter contact address" class="w-full rounded-lg p-3
                                         bg-gray-50 dark:bg-slate-700/60
                                         text-gray-900 dark:text-white
                                         placeholder-gray-400 dark:placeholder-gray-500
                                         border border-gray-300 dark:border-slate-600
                                         focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                         outline-none transition"></textarea>
              <p class="text-red-500" data-th-if="${#fields.hasErrors('address')}" data-th-errors="*{address}">Address
                is Required***</p>
            </div>
            <!-- CONTACT DESCRIPTION -->
            <div>
              <label class="block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300">
                Contact Description
              </label>

              <textarea rows="4" data-th-field="*{description}" placeholder="Write something about this contact..."
                class="w-full rounded-lg p-3
           bg-gray-50 dark:bg-slate-700/60
           text-gray-900 dark:text-white
           placeholder-gray-400 dark:placeholder-gray-500
           border border-gray-300 dark:border-slate-600
           focus:ring-2 focus:ring-blue-500 focus:border-blue-500
           outline-none transition resize-none">
  </textarea>
            </div>


            <!-- links add -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="relative">
                <div class="absolute left-3 top-0 h-full flex items-center pointer-events-none">
                  <i class="fa-brands fa-linkedin text-gray-400 dark:text-gray-500"></i>
                </div>

                <input type="text" data-th-field="*{linkedInLink}" placeholder="LinkedIn Profile" class="w-full h-10 pl-10 pr-3 rounded-lg
                  bg-gray-50 dark:bg-slate-700/60
                  border border-gray-300 dark:border-slate-600
                  text-gray-900 dark:text-white">
              </div>

              <div class="relative">

                <div class="absolute left-3 top-0 h-full flex items-center pointer-events-none">
                  <i class="fa-solid fa-globe text-gray-400 dark:text-gray-500"></i>
                </div>

                <input type="text" data-th-field="*{websiteLink}" placeholder="Website" class="w-full h-10 pl-10 pr-3 rounded-lg
                  bg-gray-50 dark:bg-slate-700/60
                  border border-gray-300 dark:border-slate-600
                  text-gray-900 dark:text-white">
              </div>
            </div>


            <div>

              <!-- image -->
              <div class="mb-5">
                <label class="block mb-2 text-sm font-semibold text-gray-900 dark:text-gray-100">
                  Contact Image
                </label>

                <!-- Upload Box -->
                <label for="image_file_input" class="flex flex-col items-center justify-center
             w-full h-40
             border-2 border-dashed
             border-blue-400 dark:border-blue-500
             rounded-xl cursor-pointer
             bg-blue-50 hover:bg-blue-100
             dark:bg-slate-700 dark:hover:bg-slate-600
             transition">

                  <i class="fa-solid fa-cloud-arrow-up
                text-3xl
                text-blue-600 dark:text-blue-400
                mb-2"></i>

                  <p class="text-sm font-semibold
                text-blue-700 dark:text-blue-300">
                    Click to upload image
                  </p>

                  <p class="text-xs
                text-gray-600 dark:text-gray-400 mt-1">
                    PNG, JPG (Max 5MB)
                  </p>

                  <input id="image_file_input" type="file" accept="image/*" data-th-field="*{profileImage}"
                    class="hidden" />

                </label>

                <!-- Image Preview -->
                <img id="upload_image_preview" class="max-h-52 mx-auto rounded-xl shadow-lg mt-4 hidden
             bg-white dark:bg-slate-800" alt="Preview" />
              </div>

              <!-- checkbox -->
              <div class="flex items-center space-x-3 px-1 py-2">
                <input type="checkbox" id="favorite" data-th-field="*{favourite}" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded 
               focus:ring-blue-500 dark:focus:ring-blue-600 
               dark:ring-offset-gray-800 focus:ring-2 
               dark:bg-gray-700 dark:border-gray-600 cursor-pointer">
                <label for="favorite"
                  class="text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer select-none">
                  Mark as favorite contact ‚≠ê
                </label>
              </div>


            </div>




        </div>
        <!-- BUTTONS -->
        <div class="flex flex-col sm:flex-row gap-3 pt-4">
          <button type="submit" class="flex-1 py-2.5 rounded-lg font-semibold
                                       bg-blue-600 hover:bg-blue-700
                                       text-white transition active:scale-95">
            Save Contact
          </button>

          <button type="reset" class="flex-1 py-2.5 rounded-lg font-semibold
                                       border border-gray-300 dark:border-slate-600
                                       text-gray-700 dark:text-gray-300
                                       hover:bg-gray-100 dark:hover:bg-slate-700
                                       transition active:scale-95">
            Clear Form
          </button>
        </div>

        </form>
      </div>
    </div>
  </div>
  </div>

  <script>
    console.log("Add Contact page loaded successfully");
  </script>

</body>

</html>